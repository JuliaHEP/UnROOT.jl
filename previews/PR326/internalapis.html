<!DOCTYPE html>
<html lang="en-US" dir="ltr">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>UnROOT.jl</title>
    <meta name="description" content="Documentation for UnROOT.jl">
    <meta name="generator" content="VitePress v1.3.0">
    <link rel="preload stylesheet" href="/UnROOT.jl/previews/PR326/assets/style.BKsFXsM6.css" as="style">
    
    <script type="module" src="/UnROOT.jl/previews/PR326/assets/app.Bo1kzVji.js"></script>
    <link rel="preload" href="/UnROOT.jl/previews/PR326/assets/inter-roman-latin.Di8DUHzh.woff2" as="font" type="font/woff2" crossorigin="">
    <link rel="modulepreload" href="/UnROOT.jl/previews/PR326/assets/chunks/framework.-tkVdUys.js">
    <link rel="modulepreload" href="/UnROOT.jl/previews/PR326/assets/chunks/theme.C6h6kPAh.js">
    <link rel="modulepreload" href="/UnROOT.jl/previews/PR326/assets/internalapis.md.2wg-VAoo.lean.js">
    <script id="check-dark-mode">(()=>{const e=localStorage.getItem("vitepress-theme-appearance")||"auto",a=window.matchMedia("(prefers-color-scheme: dark)").matches;(!e||e==="auto"?a:e==="dark")&&document.documentElement.classList.add("dark")})();</script>
    <script id="check-mac-os">document.documentElement.classList.toggle("mac",/Mac|iPhone|iPod|iPad/i.test(navigator.platform));</script>
  </head>
  <body>
    <div id="app"><div class="Layout" data-v-a9a9e638><!--[--><!--]--><!--[--><span tabindex="-1" data-v-c3508ec8></span><a href="#VPContent" class="VPSkipLink visually-hidden" data-v-c3508ec8> Skip to content </a><!--]--><!----><header class="VPNav" data-v-a9a9e638 data-v-f1e365da><div class="VPNavBar has-sidebar top" data-v-f1e365da data-v-822684d1><div class="wrapper" data-v-822684d1><div class="container" data-v-822684d1><div class="title" data-v-822684d1><div class="VPNavBarTitle has-sidebar" data-v-822684d1 data-v-28a961f9><a class="title" href="/UnROOT.jl/previews/PR326/" data-v-28a961f9><!--[--><!--]--><!--[--><img class="VPImage logo" src="/UnROOT.jl/previews/PR326/logo.png" width="24" height="24" alt data-v-35a7d0b8><!--]--><span data-v-28a961f9>UnROOT.jl</span><!--[--><!--]--></a></div></div><div class="content" data-v-822684d1><div class="content-body" data-v-822684d1><!--[--><!--]--><div class="VPNavBarSearch search" data-v-822684d1><!--[--><!----><div id="local-search"><button type="button" class="DocSearch DocSearch-Button" aria-label="Search"><span class="DocSearch-Button-Container"><span class="vp-icon DocSearch-Search-Icon"></span><span class="DocSearch-Button-Placeholder">Search</span></span><span class="DocSearch-Button-Keys"><kbd class="DocSearch-Button-Key"></kbd><kbd class="DocSearch-Button-Key">K</kbd></span></button></div><!--]--></div><nav aria-labelledby="main-nav-aria-label" class="VPNavBarMenu menu" data-v-822684d1 data-v-e6d46098><span id="main-nav-aria-label" class="visually-hidden" data-v-e6d46098> Main Navigation </span><!--[--><!--[--><a class="VPLink link VPNavBarMenuLink" href="/UnROOT.jl/previews/PR326/index" tabindex="0" data-v-e6d46098 data-v-ed5ac1f6><!--[--><span data-v-ed5ac1f6>Introduction</span><!--]--></a><!--]--><!--[--><a class="VPLink link VPNavBarMenuLink" href="/UnROOT.jl/previews/PR326/exampleusage" tabindex="0" data-v-e6d46098 data-v-ed5ac1f6><!--[--><span data-v-ed5ac1f6>Example Usage</span><!--]--></a><!--]--><!--[--><a class="VPLink link VPNavBarMenuLink" href="/UnROOT.jl/previews/PR326/performancetips" tabindex="0" data-v-e6d46098 data-v-ed5ac1f6><!--[--><span data-v-ed5ac1f6>Performance Tips</span><!--]--></a><!--]--><!--[--><div class="VPFlyout VPNavBarMenuGroup" data-v-e6d46098 data-v-e5380155><button type="button" class="button" aria-haspopup="true" aria-expanded="false" data-v-e5380155><span class="text" data-v-e5380155><!----><span data-v-e5380155>Advanced Usage</span><span class="vpi-chevron-down text-icon" data-v-e5380155></span></span></button><div class="menu" data-v-e5380155><div class="VPMenu" data-v-e5380155 data-v-7dd3104a><div class="items" data-v-7dd3104a><!--[--><!--[--><div class="VPMenuLink" data-v-7dd3104a data-v-8b74d055><a class="VPLink link" href="/UnROOT.jl/previews/PR326/advanced/custom_branch" data-v-8b74d055><!--[-->Parse Custom Branch<!--]--></a></div><!--]--><!--[--><div class="VPMenuLink" data-v-7dd3104a data-v-8b74d055><a class="VPLink link" href="/UnROOT.jl/previews/PR326/advanced/reduce_latency" data-v-8b74d055><!--[-->Reduce startup latency<!--]--></a></div><!--]--><!--]--></div><!--[--><!--]--></div></div></div><!--]--><!--[--><a class="VPLink link VPNavBarMenuLink" href="/UnROOT.jl/previews/PR326/devdocs" tabindex="0" data-v-e6d46098 data-v-ed5ac1f6><!--[--><span data-v-ed5ac1f6>For Contributors</span><!--]--></a><!--]--><!--[--><a class="VPLink link VPNavBarMenuLink active" href="/UnROOT.jl/previews/PR326/internalapis" tabindex="0" data-v-e6d46098 data-v-ed5ac1f6><!--[--><span data-v-ed5ac1f6>APIs</span><!--]--></a><!--]--><!--]--></nav><!----><div class="VPNavBarAppearance appearance" data-v-822684d1 data-v-af096f4a><button class="VPSwitch VPSwitchAppearance" type="button" role="switch" title="Switch to dark theme" aria-checked="false" data-v-af096f4a data-v-e40a8bb6 data-v-4a1c76db><span class="check" data-v-4a1c76db><span class="icon" data-v-4a1c76db><!--[--><span class="vpi-sun sun" data-v-e40a8bb6></span><span class="vpi-moon moon" data-v-e40a8bb6></span><!--]--></span></span></button></div><div class="VPSocialLinks VPNavBarSocialLinks social-links" data-v-822684d1 data-v-164c457f data-v-ee7a9424><!--[--><a class="VPSocialLink no-icon" href="https://github.com/JuliaHEP/UnROOT.jl" aria-label="github" target="_blank" rel="noopener" data-v-ee7a9424 data-v-717b8b75><span class="vpi-social-github" /></a><!--]--></div><div class="VPFlyout VPNavBarExtra extra" data-v-822684d1 data-v-925effce data-v-e5380155><button type="button" class="button" aria-haspopup="true" aria-expanded="false" aria-label="extra navigation" data-v-e5380155><span class="vpi-more-horizontal icon" data-v-e5380155></span></button><div class="menu" data-v-e5380155><div class="VPMenu" data-v-e5380155 data-v-7dd3104a><!----><!--[--><!--[--><!----><div class="group" data-v-925effce><div class="item appearance" data-v-925effce><p class="label" data-v-925effce>Appearance</p><div class="appearance-action" data-v-925effce><button class="VPSwitch VPSwitchAppearance" type="button" role="switch" title="Switch to dark theme" aria-checked="false" data-v-925effce data-v-e40a8bb6 data-v-4a1c76db><span class="check" data-v-4a1c76db><span class="icon" data-v-4a1c76db><!--[--><span class="vpi-sun sun" data-v-e40a8bb6></span><span class="vpi-moon moon" data-v-e40a8bb6></span><!--]--></span></span></button></div></div></div><div class="group" data-v-925effce><div class="item social-links" data-v-925effce><div class="VPSocialLinks social-links-list" data-v-925effce data-v-ee7a9424><!--[--><a class="VPSocialLink no-icon" href="https://github.com/JuliaHEP/UnROOT.jl" aria-label="github" target="_blank" rel="noopener" data-v-ee7a9424 data-v-717b8b75><span class="vpi-social-github" /></a><!--]--></div></div></div><!--]--><!--]--></div></div></div><!--[--><!--]--><button type="button" class="VPNavBarHamburger hamburger" aria-label="mobile navigation" aria-expanded="false" aria-controls="VPNavScreen" data-v-822684d1 data-v-5dea55bf><span class="container" data-v-5dea55bf><span class="top" data-v-5dea55bf></span><span class="middle" data-v-5dea55bf></span><span class="bottom" data-v-5dea55bf></span></span></button></div></div></div></div><div class="divider" data-v-822684d1><div class="divider-line" data-v-822684d1></div></div></div><!----></header><div class="VPLocalNav has-sidebar empty" data-v-a9a9e638 data-v-070ab83d><div class="container" data-v-070ab83d><button class="menu" aria-expanded="false" aria-controls="VPSidebarNav" data-v-070ab83d><span class="vpi-align-left menu-icon" data-v-070ab83d></span><span class="menu-text" data-v-070ab83d>Menu</span></button><div class="VPLocalNavOutlineDropdown" style="--vp-vh:0px;" data-v-070ab83d data-v-bc9dc845><button data-v-bc9dc845>Return to top</button><!----></div></div></div><aside class="VPSidebar" data-v-a9a9e638 data-v-18756405><div class="curtain" data-v-18756405></div><nav class="nav" id="VPSidebarNav" aria-labelledby="sidebar-aria-label" tabindex="-1" data-v-18756405><span class="visually-hidden" id="sidebar-aria-label" data-v-18756405> Sidebar Navigation </span><!--[--><!--]--><!--[--><div class="no-transition group" data-v-9e426adc><section class="VPSidebarItem level-0" data-v-9e426adc data-v-196b2e5f><!----><div class="items" data-v-196b2e5f><!--[--><div class="VPSidebarItem level-1 is-link" data-v-196b2e5f data-v-196b2e5f><div class="item" data-v-196b2e5f><div class="indicator" data-v-196b2e5f></div><a class="VPLink link link" href="/UnROOT.jl/previews/PR326/index" data-v-196b2e5f><!--[--><p class="text" data-v-196b2e5f>Introduction</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-196b2e5f data-v-196b2e5f><div class="item" data-v-196b2e5f><div class="indicator" data-v-196b2e5f></div><a class="VPLink link link" href="/UnROOT.jl/previews/PR326/exampleusage" data-v-196b2e5f><!--[--><p class="text" data-v-196b2e5f>Example Usage</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-196b2e5f data-v-196b2e5f><div class="item" data-v-196b2e5f><div class="indicator" data-v-196b2e5f></div><a class="VPLink link link" href="/UnROOT.jl/previews/PR326/performancetips" data-v-196b2e5f><!--[--><p class="text" data-v-196b2e5f>Performance Tips</p><!--]--></a><!----></div><!----></div><!--]--></div></section></div><div class="no-transition group" data-v-9e426adc><section class="VPSidebarItem level-0 collapsible" data-v-9e426adc data-v-196b2e5f><div class="item" role="button" tabindex="0" data-v-196b2e5f><div class="indicator" data-v-196b2e5f></div><h2 class="text" data-v-196b2e5f>Advanced Usage</h2><div class="caret" role="button" aria-label="toggle section" tabindex="0" data-v-196b2e5f><span class="vpi-chevron-right caret-icon" data-v-196b2e5f></span></div></div><div class="items" data-v-196b2e5f><!--[--><div class="VPSidebarItem level-1 is-link" data-v-196b2e5f data-v-196b2e5f><div class="item" data-v-196b2e5f><div class="indicator" data-v-196b2e5f></div><a class="VPLink link link" href="/UnROOT.jl/previews/PR326/advanced/custom_branch" data-v-196b2e5f><!--[--><p class="text" data-v-196b2e5f>Parse Custom Branch</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-196b2e5f data-v-196b2e5f><div class="item" data-v-196b2e5f><div class="indicator" data-v-196b2e5f></div><a class="VPLink link link" href="/UnROOT.jl/previews/PR326/advanced/reduce_latency" data-v-196b2e5f><!--[--><p class="text" data-v-196b2e5f>Reduce startup latency</p><!--]--></a><!----></div><!----></div><!--]--></div></section></div><div class="no-transition group" data-v-9e426adc><section class="VPSidebarItem level-0 has-active" data-v-9e426adc data-v-196b2e5f><!----><div class="items" data-v-196b2e5f><!--[--><div class="VPSidebarItem level-1 is-link" data-v-196b2e5f data-v-196b2e5f><div class="item" data-v-196b2e5f><div class="indicator" data-v-196b2e5f></div><a class="VPLink link link" href="/UnROOT.jl/previews/PR326/devdocs" data-v-196b2e5f><!--[--><p class="text" data-v-196b2e5f>For Contributors</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-196b2e5f data-v-196b2e5f><div class="item" data-v-196b2e5f><div class="indicator" data-v-196b2e5f></div><a class="VPLink link link" href="/UnROOT.jl/previews/PR326/internalapis" data-v-196b2e5f><!--[--><p class="text" data-v-196b2e5f>APIs</p><!--]--></a><!----></div><!----></div><!--]--></div></section></div><!--]--><!--[--><!--]--></nav></aside><div class="VPContent has-sidebar" id="VPContent" data-v-a9a9e638 data-v-91765379><div class="VPDoc has-sidebar has-aside" data-v-91765379 data-v-83890dd9><!--[--><!--]--><div class="container" data-v-83890dd9><div class="aside" data-v-83890dd9><div class="aside-curtain" data-v-83890dd9></div><div class="aside-container" data-v-83890dd9><div class="aside-content" data-v-83890dd9><div class="VPDocAside" data-v-83890dd9 data-v-6d7b3c46><!--[--><!--]--><!--[--><!--]--><nav aria-labelledby="doc-outline-aria-label" class="VPDocAsideOutline" data-v-6d7b3c46 data-v-b38bf2ff><div class="content" data-v-b38bf2ff><div class="outline-marker" data-v-b38bf2ff></div><div aria-level="2" class="outline-title" id="doc-outline-aria-label" role="heading" data-v-b38bf2ff>On this page</div><ul class="VPDocOutlineItem root" data-v-b38bf2ff data-v-3f927ebe><!--[--><!--]--></ul></div></nav><!--[--><!--]--><div class="spacer" data-v-6d7b3c46></div><!--[--><!--]--><!----><!--[--><!--]--><!--[--><!--]--></div></div></div></div><div class="content" data-v-83890dd9><div class="content-container" data-v-83890dd9><!--[--><!--]--><main class="main" data-v-83890dd9><div style="position:relative;" class="vp-doc _UnROOT_jl_previews_PR326_internalapis" data-v-83890dd9><div><h2 id="Commonly-used" tabindex="-1">Commonly used <a class="header-anchor" href="#Commonly-used" aria-label="Permalink to &quot;Commonly used {#Commonly-used}&quot;">​</a></h2><div style="border-width:1px;border-style:solid;border-color:black;padding:1em;border-radius:25px;"><a id="UnROOT.LazyBranch" href="#UnROOT.LazyBranch">#</a> <b><u>UnROOT.LazyBranch</u></b> — <i>Type</i>. <div class="language-julia vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">julia</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">LazyBranch</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(f</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">::</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">ROOTFile</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, branch)</span></span></code></pre></div><p>Construct an accessor for a given branch such that <code>BA[idx]</code> and or <code>BA[1:20]</code> is type-stable. And memory footprint is a single basket (&lt;1MB usually). You can also iterate or map over it. If you want a concrete <code>Vector</code>, simply <code>collect()</code> the LazyBranch.</p><p><strong>Example</strong></p><div class="language-julia vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">julia</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">julia</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> rf </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> ROOTFile</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;./test/samples/tree_with_large_array.root&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">julia</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> b </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> rf[</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;t1/int32_array&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">];</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">julia</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> ab </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> UnROOT</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">.</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">LazyBranch</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(rf, b);</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">julia</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&gt;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> for</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> entry </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">in</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> ab</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">           @show</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> entry</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">           break</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">       end</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">entry </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 0</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">julia</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> ab[</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">begin</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">end</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">]</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">0</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">...</span></span></code></pre></div><p><a href="https://github.com/JuliaHEP/UnROOT.jl/blob/2e2c3fb82b9f0c2f4c873095895f559a076b4080/src/iteration.jl#LL79-L106" target="_blank" rel="noreferrer">source</a></p></div><br><div style="border-width:1px;border-style:solid;border-color:black;padding:1em;border-radius:25px;"><a id="UnROOT.LazyTree-Tuple{ROOTFile, AbstractString, Any}" href="#UnROOT.LazyTree-Tuple{ROOTFile, AbstractString, Any}">#</a> <b><u>UnROOT.LazyTree</u></b> — <i>Method</i>. <div class="language-julia vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">julia</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">LazyTree</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(f</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">::</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">ROOTFile</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, s</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">::</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">AbstractString</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, branch</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">::</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">Union{AbstractString, Regex}</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">LazyTree</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(f</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">::</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">ROOTFile</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, s</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">::</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">AbstractString</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, branch</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">::</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">Vector{Union{AbstractString, Regex}}</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span></code></pre></div><p>Constructor for <code>LazyTree</code>, which is close to an <code>DataFrame</code> (interface wise), and a lazy Table (speed wise). Looping over a <code>LazyTree</code> is fast and type stable. Internally, <code>LazyTree</code> contains a typed table whose branch are <a href="/UnROOT.jl/previews/PR326/internalapis#UnROOT.LazyBranch"><code>LazyBranch</code></a>. This means that at any given time only <code>N</code> baskets are cached, where <code>N</code> is the number of branches.</p><div class="tip custom-block"><p class="custom-block-title">Note</p><p>Accessing with <code>[start:stop]</code> will return a <code>LazyTree</code> with concrete internal table.</p></div><div class="warning custom-block"><p class="custom-block-title">Warning</p><p>Split branches are re-named, and the exact renaming may change. See <a href="https://github.com/JuliaHEP/UnROOT.jl/pull/156" target="_blank" rel="noreferrer">Issue 156</a> for context.</p></div><p><strong>Example</strong></p><div class="language-julia vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">julia</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">julia</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> mytree </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> LazyTree</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(f, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;Events&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, [</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;Electron_dxy&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;nMuon&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">r&quot;</span><span style="--shiki-light:#032F62;--shiki-dark:#DBEDFF;">Muon_(pt|eta)$</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">])</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> Row │ Electron_dxy     nMuon   Muon_eta         Muon_pt</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">     │ Vector{Float32}  UInt32  Vector{Float32}  Vector{Float32}</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">─────┼───────────────────────────────────────────────────────────</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">   │ [</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">0.000371</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">]       </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">       []               []</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 2</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">   │ [</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">-</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">0.00982</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">]       </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">2</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">       [</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">0.53</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">0.229</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">]    [</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">19.9</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">15.3</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">]</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 3</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">   │ []               </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">       []               []</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 4</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">   │ [</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">-</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">0.00157</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">]       </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">       []               []</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> ⋮</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">   │     </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">⋮</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">            ⋮</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">             ⋮</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">                ⋮</span></span></code></pre></div><p><a href="https://github.com/JuliaHEP/UnROOT.jl/blob/2e2c3fb82b9f0c2f4c873095895f559a076b4080/src/iteration.jl#LL360-L388" target="_blank" rel="noreferrer">source</a></p></div><br><div style="border-width:1px;border-style:solid;border-color:black;padding:1em;border-radius:25px;"><a id="UnROOT.LazyTree-Tuple{ROOTFile, UnROOT.TTree, Any, Any}" href="#UnROOT.LazyTree-Tuple{ROOTFile, UnROOT.TTree, Any, Any}">#</a> <b><u>UnROOT.LazyTree</u></b> — <i>Method</i>. <div class="language-julia vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">julia</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">function</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> LazyTree</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(f</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">::</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">ROOTFile</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, tree</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">::</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">TTree</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, treepath, branches; sink </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> LazyTree)</span></span></code></pre></div><p>Creates a lazy tree object of the selected branches only. <code>branches</code> is vector of <code>String</code>, <code>Regex</code> or <code>Pair{Regex, SubstitutionString}</code>, where the first item is the regex selector and the second item the rename pattern. An alternative container can be used by providing a sink function. The sink function must take as argument an table with a Tables.jl interface. The table columns are filled with LazyBranch objects.</p><p><a href="https://github.com/JuliaHEP/UnROOT.jl/blob/2e2c3fb82b9f0c2f4c873095895f559a076b4080/src/iteration.jl#LL420-L430" target="_blank" rel="noreferrer">source</a></p></div><br><h2 id="More-Internal" tabindex="-1">More Internal <a class="header-anchor" href="#More-Internal" aria-label="Permalink to &quot;More Internal {#More-Internal}&quot;">​</a></h2><div style="border-width:1px;border-style:solid;border-color:black;padding:1em;border-radius:25px;"><a id="UnROOT.Cursor" href="#UnROOT.Cursor">#</a> <b><u>UnROOT.Cursor</u></b> — <i>Type</i>. <p>The <code>Cursor</code> type is embedded into Branches of a TTree such that when we need to read the content of a Branch, we don&#39;t need to go through the Directory and find the TKey and then seek to where the Branch is.</p><div class="tip custom-block"><p class="custom-block-title">Note</p><p>The <code>io</code> inside a <code>Cursor</code> is in fact only a buffer, it is NOT a <code>io</code> that refers to the whole file&#39;s stream.</p></div><p><a href="https://github.com/JuliaHEP/UnROOT.jl/blob/2e2c3fb82b9f0c2f4c873095895f559a076b4080/src/io.jl#LL1-L9" target="_blank" rel="noreferrer">source</a></p></div><br><div style="border-width:1px;border-style:solid;border-color:black;padding:1em;border-radius:25px;"><a id="UnROOT.LeafField" href="#UnROOT.LeafField">#</a> <b><u>UnROOT.LeafField</u></b> — <i>Type</i>. <div class="language-julia vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">julia</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">struct</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> LeafField{T}</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    content_col_idx</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">::</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">Int</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    columnrecord</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">::</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">ColumnRecord</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">end</span></span></code></pre></div><p>Base case of field nesting, this links to a column in the RNTuple by 0-based index. <code>T</code> is the <code>eltype</code> of this field which mostly uses Julia native types except for <code>Switch</code>.</p><p>The <code>type</code> field is the RNTuple spec type number, used to record split encoding.</p><p><a href="https://github.com/JuliaHEP/UnROOT.jl/blob/2e2c3fb82b9f0c2f4c873095895f559a076b4080/src/RNTuple/fieldcolumn_schema.jl#LL56-L67" target="_blank" rel="noreferrer">source</a></p></div><br><div style="border-width:1px;border-style:solid;border-color:black;padding:1em;border-radius:25px;"><a id="UnROOT.OffsetBuffer" href="#UnROOT.OffsetBuffer">#</a> <b><u>UnROOT.OffsetBuffer</u></b> — <i>Type</i>. <div class="language-julia vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">julia</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">OffsetBuffer</span></span></code></pre></div><p>Works with seek, position of the original file. Think of it as a view of IOStream that can be indexed with original positions.</p><p><a href="https://github.com/JuliaHEP/UnROOT.jl/blob/2e2c3fb82b9f0c2f4c873095895f559a076b4080/src/UnROOT.jl#LL28-L33" target="_blank" rel="noreferrer">source</a></p></div><br><div style="border-width:1px;border-style:solid;border-color:black;padding:1em;border-radius:25px;"><a id="UnROOT.Preamble-Union{Tuple{T}, Tuple{Any, Type{T}}} where T" href="#UnROOT.Preamble-Union{Tuple{T}, Tuple{Any, Type{T}}} where T">#</a> <b><u>UnROOT.Preamble</u></b> — <i>Method</i>. <p>Reads the preamble of an object.</p><p>The cursor will be put into the right place depending on the data.</p><p><a href="https://github.com/JuliaHEP/UnROOT.jl/blob/2e2c3fb82b9f0c2f4c873095895f559a076b4080/src/io.jl#LL90-L94" target="_blank" rel="noreferrer">source</a></p></div><br><div style="border-width:1px;border-style:solid;border-color:black;padding:1em;border-radius:25px;"><a id="UnROOT.RNTuple" href="#UnROOT.RNTuple">#</a> <b><u>UnROOT.RNTuple</u></b> — <i>Type</i>. <div class="language-julia vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">julia</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">RNTuple</span></span></code></pre></div><p>This is the struct for holding all metadata (schema) needed to completely describe and RNTuple from ROOT, just like <code>TTree</code>, to obtain a table-like data object, you need to use <code>LazyTree</code> explicitly:</p><p><strong>Example</strong></p><div class="language-julia vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">julia</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">julia</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> f </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> ROOTFile</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;./test/samples/RNTuple/test_ntuple_stl_containers.root&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">julia</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> f[</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;ntuple&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">]</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">UnROOT</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">.</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">RNTuple</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  header</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    name</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;ntuple&quot;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    ntuple_description</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;&quot;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    writer_identifier</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;ROOT v6.29/01&quot;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    schema</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      RNTupleSchema with </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">13</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> top fields</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      ├─ </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">:lorentz_vector</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> ⇒</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> Struct</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      ├─ </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">:vector_tuple_int32_string</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> ⇒</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> Vector</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      ├─ </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">:string</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> ⇒</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> String</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      ├─ </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">:vector_string</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> ⇒</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> Vector</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">...</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">..</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">julia</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&gt;</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> LazyTree</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(f, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;ntuple&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> Row │ string  vector_int32     array_float      vector_vector_i     vector_string       vector_vector_s     variant_int32_s  vector_variant_     </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">⋯</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">     │ String  Vector{Int32}    StaticArraysCor  Vector{Vector{I     Vector{String}      Vector{Vector{S     Union{Int32, St  Vector{Union{In     </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">⋯</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">─────┼─────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">   │ one     [</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">]              [</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1.0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1.0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1.0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">]  Vector{Int32}[Int3  [</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;one&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">]             [[</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;one&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">]]           </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">                Union{Int64, Strin  </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">⋯</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 2</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">   │ two     [</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">2</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">]           [</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">2.0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">2.0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">2.0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">]  Vector{Int32}[Int3  [</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;one&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;two&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">]      [[</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;one&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">], [</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;two&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">]]  two              Union{Int64, Strin  </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">⋯</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 3</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">   │ three   [</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">2</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">3</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">]        [</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">3.0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">3.0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">3.0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">]  Vector{Int32}[Int3  [</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;one&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;two&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;th  [[&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">o</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">ne</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;], [&quot;</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">two</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;],  three            Union{Int64, Strin  ⋯</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> 4   │ four    [1, 2, 3, 4]     [4.0, 4.0, 4.0]  Vector{Int32}[Int3  [&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">o</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">ne</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;, &quot;</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">two</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;, &quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">th  [[</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;one&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">], [</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;two&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">],  </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">4</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">                Union{Int64, Strin  </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">⋯</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 5</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">   │ five    [</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">2</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">3</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">4</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">5</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">]  [</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">5.0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">5.0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">5.0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">]  Vector{Int32}[Int3  [</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;one&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;two&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;th  [[&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">o</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">ne</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;], [&quot;</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">two</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;],  5                Union{Int64, Strin  ⋯</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">                                                                                                                                  5 columns omitted</span></span></code></pre></div><p><a href="https://github.com/JuliaHEP/UnROOT.jl/blob/2e2c3fb82b9f0c2f4c873095895f559a076b4080/src/RNTuple/highlevel.jl#LL135-L174" target="_blank" rel="noreferrer">source</a></p></div><br><div style="border-width:1px;border-style:solid;border-color:black;padding:1em;border-radius:25px;"><a id="UnROOT.RNTupleCardinality" href="#UnROOT.RNTupleCardinality">#</a> <b><u>UnROOT.RNTupleCardinality</u></b> — <i>Type</i>. <div class="language-julia vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">julia</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">struct</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> RNTupleCardinality{T}</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    content_col_idx</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">::</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">Int</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    nbits</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">::</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">Int</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">end</span></span></code></pre></div><p>Special field. The cardinality is basically a counter, but the data column is a leaf column of Index32 or Index64. To get a number from Cardinality, one needs to compute <code>ary[i] - ary[i-1]</code>.</p><p><a href="https://github.com/JuliaHEP/UnROOT.jl/blob/2e2c3fb82b9f0c2f4c873095895f559a076b4080/src/RNTuple/fieldcolumn_schema.jl#LL75-L84" target="_blank" rel="noreferrer">source</a></p></div><br><div style="border-width:1px;border-style:solid;border-color:black;padding:1em;border-radius:25px;"><a id="UnROOT.RNTupleField" href="#UnROOT.RNTupleField">#</a> <b><u>UnROOT.RNTupleField</u></b> — <i>Type</i>. <div class="language-julia vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">julia</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">mutable struct</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> RNTupleField{R, F, O, E} </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&lt;:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> AbstractVector{E}</span></span></code></pre></div><p>Not a counterpart of RNTuple field in ROOT. This is a user-facing Julia-only construct like <code>LazyBranch</code> that is meant to act like a lazy <code>AbstractVector</code> backed with file IO source and a schema field from <code>RNTuple.schema</code>.</p><ul><li><p><code>R</code> is the type of parent <code>RNTuple</code></p></li><li><p><code>F</code> is the type of the field in the schema</p></li><li><p>&#39;O&#39; is the type of output when you read a cluster-worth of data</p></li><li><p>&#39;E&#39; is the element type of <code>O</code> (i.e. what you get for each event (row) in iteration)</p></li></ul><p><a href="https://github.com/JuliaHEP/UnROOT.jl/blob/2e2c3fb82b9f0c2f4c873095895f559a076b4080/src/RNTuple/highlevel.jl#LL1-L12" target="_blank" rel="noreferrer">source</a></p></div><br><div style="border-width:1px;border-style:solid;border-color:black;padding:1em;border-radius:25px;"><a id="UnROOT.RNTupleSchema" href="#UnROOT.RNTupleSchema">#</a> <b><u>UnROOT.RNTupleSchema</u></b> — <i>Type</i>. <div class="language-julia vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">julia</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">struct</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> RNTupleSchema</span></span></code></pre></div><p>A wrapper struct for <code>print_tree</code> implementation of the schema display.</p><p><strong>Example</strong></p><div class="language-julia vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">julia</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">julia</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> f </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> ROOTFile</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;./test/samples/RNTuple/test_ntuple_stl_containers.root&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">julia</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> f[</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;ntuple&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">]</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">.</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">schema</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">RNTupleSchema with </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">13</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> top fields</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">├─ </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">:lorentz_vector</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> ⇒</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> Struct</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">│                    ├─ </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">:pt</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> ⇒</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> Leaf{Float32}</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(col</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">26</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">│                    ├─ </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">:eta</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> ⇒</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> Leaf{Float32}</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(col</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">27</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">│                    ├─ </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">:phi</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> ⇒</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> Leaf{Float32}</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(col</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">28</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">│                    └─ </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">:mass</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> ⇒</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> Leaf{Float32}</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(col</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">29</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">├─ </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">:vector_tuple_int32_string</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> ⇒</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> Vector</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">│                               ├─ </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">:offset</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> ⇒</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> Leaf{Int32}</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(col</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">9</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">│                               └─ </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">:content</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> ⇒</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> Struct</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">│                                             ├─ </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">:_1</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> ⇒</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> String</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">│                                             │        ├─ </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">:offset</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> ⇒</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> Leaf{Int32}</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(col</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">37</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">│                                             │        └─ </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">:content</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> ⇒</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> Leaf{Char}</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(col</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">38</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">│                                             └─ </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">:_0</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> ⇒</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> Leaf{Int32}</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(col</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">36</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">├─ </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">:string</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> ⇒</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> String</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">│            ├─ </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">:offset</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> ⇒</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> Leaf{Int32}</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(col</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">│            └─ </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">:content</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> ⇒</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> Leaf{Char}</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(col</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">2</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">├─ </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">:vector_string</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> ⇒</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> Vector</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">│                   ├─ </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">:offset</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> ⇒</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> Leaf{Int32}</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(col</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">5</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">│                   └─ </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">:content</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> ⇒</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> String</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">│                                 ├─ </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">:offset</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> ⇒</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> Leaf{Int32}</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(col</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">13</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">│                                 └─ </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">:content</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> ⇒</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> Leaf{Char}</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(col</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">14</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">...</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">..</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.</span></span></code></pre></div><p><a href="https://github.com/JuliaHEP/UnROOT.jl/blob/2e2c3fb82b9f0c2f4c873095895f559a076b4080/src/RNTuple/highlevel.jl#LL50-L85" target="_blank" rel="noreferrer">source</a></p></div><br><div style="border-width:1px;border-style:solid;border-color:black;padding:1em;border-radius:25px;"><a id="UnROOT.ROOTFile-Tuple{AbstractString}" href="#UnROOT.ROOTFile-Tuple{AbstractString}">#</a> <b><u>UnROOT.ROOTFile</u></b> — <i>Method</i>. <div class="language-julia vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">julia</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">ROOTFile</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(filename</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">::</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">AbstractString</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">; customstructs </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> Dict</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;TLorentzVector&quot;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> LorentzVector{Float64}))</span></span></code></pre></div><p><code>ROOTFile</code>&#39;s constructor from a file. The <code>customstructs</code> dictionary can be used to pass user-defined struct as value and its corresponding <code>fClassName</code> (in Branch) as key such that <code>UnROOT</code> will know to interpret them, see <a href="/UnROOT.jl/previews/PR326/internalapis#UnROOT.interped_data-Tuple{Any, Any, Type{Bool}, Type{UnROOT.Nojagg}}"><code>interped_data</code></a>.</p><p>See also: <a href="/UnROOT.jl/previews/PR326/internalapis#UnROOT.LazyTree-Tuple{ROOTFile, AbstractString, Any}"><code>LazyTree</code></a>, <a href="/UnROOT.jl/previews/PR326/internalapis#UnROOT.LazyBranch"><code>LazyBranch</code></a></p><p><strong>Example</strong></p><div class="language-julia vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">julia</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">julia</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> f </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> ROOTFile</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;test/samples/NanoAODv5_sample.root&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">ROOTFile with </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">2</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> entries and </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">21</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> streamers.</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">test</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">/</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">samples</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">/</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">NanoAODv5_sample</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">.</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">root</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">└─ Events</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">   ├─ </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;run&quot;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">   ├─ </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;luminosityBlock&quot;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">   ├─ </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;event&quot;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">   ├─ </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;HTXS_Higgs_pt&quot;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">   ├─ </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;HTXS_Higgs_y&quot;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">   └─ </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;⋮&quot;</span></span></code></pre></div><p><a href="https://github.com/JuliaHEP/UnROOT.jl/blob/2e2c3fb82b9f0c2f4c873095895f559a076b4080/src/root.jl#LL42-L64" target="_blank" rel="noreferrer">source</a></p></div><br><div style="border-width:1px;border-style:solid;border-color:black;padding:1em;border-radius:25px;"><a id="UnROOT.StdArrayField" href="#UnROOT.StdArrayField">#</a> <b><u>UnROOT.StdArrayField</u></b> — <i>Type</i>. <div class="language-julia vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">julia</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">StdArrayField</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&lt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">N, T</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&gt;</span></span></code></pre></div><p>Special base-case field for a leaf field representing <code>std::array&lt;T, N&gt;</code>. This is because RNTuple would serialize it as a leaf field but with <code>flags == 0x0001</code> in the field description. In total, there are two field descriptions associlated with <code>array&lt;&gt;</code>, one for meta-data (the <code>N</code>), the other one for the actual data.</p><p><a href="https://github.com/JuliaHEP/UnROOT.jl/blob/2e2c3fb82b9f0c2f4c873095895f559a076b4080/src/RNTuple/fieldcolumn_schema.jl#LL29-L36" target="_blank" rel="noreferrer">source</a></p></div><br><div style="border-width:1px;border-style:solid;border-color:black;padding:1em;border-radius:25px;"><a id="UnROOT.Streamers-Tuple{Any}" href="#UnROOT.Streamers-Tuple{Any}">#</a> <b><u>UnROOT.Streamers</u></b> — <i>Method</i>. <div class="language-julia vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">julia</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">function</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> Streamers</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(io)</span></span></code></pre></div><p>Reads all the streamers from the ROOT source.</p><p><a href="https://github.com/JuliaHEP/UnROOT.jl/blob/2e2c3fb82b9f0c2f4c873095895f559a076b4080/src/streamers.jl#LL66-L70" target="_blank" rel="noreferrer">source</a></p></div><br><div style="border-width:1px;border-style:solid;border-color:black;padding:1em;border-radius:25px;"><a id="UnROOT.StringField" href="#UnROOT.StringField">#</a> <b><u>UnROOT.StringField</u></b> — <i>Type</i>. <div class="language-julia vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">julia</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">StringField</span></span></code></pre></div><p>Special base-case field for String leaf field. This is because RNTuple splits a leaf String field into two columns (instead of split in field records). So we need an offset column and a content column (that contains <code>Char</code>s).</p><p><a href="https://github.com/JuliaHEP/UnROOT.jl/blob/2e2c3fb82b9f0c2f4c873095895f559a076b4080/src/RNTuple/fieldcolumn_schema.jl#LL43-L49" target="_blank" rel="noreferrer">source</a></p></div><br><div style="border-width:1px;border-style:solid;border-color:black;padding:1em;border-radius:25px;"><a id="UnROOT.TH-Tuple{Any, Union{UnROOT.TKey32, UnROOT.TKey64}, Any}" href="#UnROOT.TH-Tuple{Any, Union{UnROOT.TKey32, UnROOT.TKey64}, Any}">#</a> <b><u>UnROOT.TH</u></b> — <i>Method</i>. <div class="language-julia vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">julia</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">TH</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(io, tkey</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">::</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">TKey</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, refs)</span></span></code></pre></div><p>Internal function used to form a <code>fields = Dict{Symbol, Any}()</code> that represents the fields of a <code>TH</code> (histogram) in C++ ROOT.</p><p><a href="https://github.com/JuliaHEP/UnROOT.jl/blob/2e2c3fb82b9f0c2f4c873095895f559a076b4080/src/bootstrap.jl#LL955-L960" target="_blank" rel="noreferrer">source</a></p></div><br><div style="border-width:1px;border-style:solid;border-color:black;padding:1em;border-radius:25px;"><a id="UnROOT._field_output_type-Tuple{}" href="#UnROOT._field_output_type-Tuple{}">#</a> <b><u>UnROOT._field_output_type</u></b> — <i>Method</i>. <div class="language-julia vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">julia</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">_field_output_type</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">::</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">Type{F}</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">where</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> F</span></span></code></pre></div><p>This is function is used in two ways:</p><ul><li>provide a output type prediction for each &quot;field&quot; in RNTuple so we can</li></ul><p>achieve type stability</p><ul><li>it&#39;s also used to enforce the type stability in <a href="/UnROOT.jl/previews/PR326/internalapis#UnROOT.read_field-Tuple{}"><code>read_field</code></a>:</li></ul><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>    # this is basically a type assertion for `res`</span></span>
<span class="line"><span>    return res::_field_output_type(field)</span></span></code></pre></div><p><a href="https://github.com/JuliaHEP/UnROOT.jl/blob/2e2c3fb82b9f0c2f4c873095895f559a076b4080/src/RNTuple/fieldcolumn_reading.jl#LL1-L14" target="_blank" rel="noreferrer">source</a></p></div><br><div style="border-width:1px;border-style:solid;border-color:black;padding:1em;border-radius:25px;"><a id="UnROOT._rntuple_clusterrange-Tuple{Any}" href="#UnROOT._rntuple_clusterrange-Tuple{Any}">#</a> <b><u>UnROOT._rntuple_clusterrange</u></b> — <i>Method</i>. <p>The event number range a given cluster covers, in Julia&#39;s index</p><p><a href="https://github.com/JuliaHEP/UnROOT.jl/blob/2e2c3fb82b9f0c2f4c873095895f559a076b4080/src/RNTuple/highlevel.jl#LL34-L36" target="_blank" rel="noreferrer">source</a></p></div><br><div style="border-width:1px;border-style:solid;border-color:black;padding:1em;border-radius:25px;"><a id="UnROOT.array-Tuple{ROOTFile, AbstractString}" href="#UnROOT.array-Tuple{ROOTFile, AbstractString}">#</a> <b><u>UnROOT.array</u></b> — <i>Method</i>. <div class="language-julia vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">julia</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">array</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(f</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">::</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">ROOTFile</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, path; raw</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">false</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span></code></pre></div><p>Reads an array from a branch. Set <code>raw=true</code> to return raw data and correct offsets.</p><p><a href="https://github.com/JuliaHEP/UnROOT.jl/blob/2e2c3fb82b9f0c2f4c873095895f559a076b4080/src/iteration.jl#LL15-L19" target="_blank" rel="noreferrer">source</a></p></div><br><div style="border-width:1px;border-style:solid;border-color:black;padding:1em;border-radius:25px;"><a id="UnROOT.arrays-Tuple{ROOTFile, Any}" href="#UnROOT.arrays-Tuple{ROOTFile, Any}">#</a> <b><u>UnROOT.arrays</u></b> — <i>Method</i>. <div class="language-julia vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">julia</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">arrays</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(f</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">::</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">ROOTFile</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, treename)</span></span></code></pre></div><p>Reads all branches from a tree.</p><p><a href="https://github.com/JuliaHEP/UnROOT.jl/blob/2e2c3fb82b9f0c2f4c873095895f559a076b4080/src/iteration.jl#LL1-L5" target="_blank" rel="noreferrer">source</a></p></div><br><div style="border-width:1px;border-style:solid;border-color:black;padding:1em;border-radius:25px;"><a id="UnROOT.auto_T_JaggT-Tuple{ROOTFile, Any}" href="#UnROOT.auto_T_JaggT-Tuple{ROOTFile, Any}">#</a> <b><u>UnROOT.auto_T_JaggT</u></b> — <i>Method</i>. <div class="language-julia vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">julia</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">auto_T_JaggT</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(f</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">::</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">ROOTFile</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, branch; customstructs</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">::</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">Dict{String, Type}</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span></code></pre></div><p>Given a file and branch, automatically return (eltype, Jaggtype). This function is aware of custom structs that are carried with the parent <code>ROOTFile</code>.</p><p>This is also where you may want to &quot;redirect&quot; classname -&gt; Julia struct name, for example <code>&quot;TLorentzVector&quot; =&gt; LorentzVector</code> here and you can focus on <code>LorentzVectors.LorentzVector</code> methods from here on.</p><p>See also: <a href="/UnROOT.jl/previews/PR326/internalapis#UnROOT.ROOTFile-Tuple{AbstractString}"><code>ROOTFile</code></a>, <a href="/UnROOT.jl/previews/PR326/internalapis#UnROOT.interped_data-Tuple{Any, Any, Type{Bool}, Type{UnROOT.Nojagg}}"><code>interped_data</code></a></p><p><a href="https://github.com/JuliaHEP/UnROOT.jl/blob/2e2c3fb82b9f0c2f4c873095895f559a076b4080/src/root.jl#LL349-L360" target="_blank" rel="noreferrer">source</a></p></div><br><div style="border-width:1px;border-style:solid;border-color:black;padding:1em;border-radius:25px;"><a id="UnROOT.basketarray-Tuple{ROOTFile, AbstractString, Any}" href="#UnROOT.basketarray-Tuple{ROOTFile, AbstractString, Any}">#</a> <b><u>UnROOT.basketarray</u></b> — <i>Method</i>. <div class="language-julia vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">julia</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">basketarray</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(f</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">::</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">ROOTFile</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, path</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">::</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">AbstractString</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, ith)</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">basketarray</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(f</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">::</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">ROOTFile</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, branch</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">::</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">Union{TBranch, TBranchElement}</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, ith)</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">basketarray</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(lb</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">::</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">LazyBranch</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, ith)</span></span></code></pre></div><p>Reads actual data from ith basket of a branch. This function first calls <a href="/UnROOT.jl/previews/PR326/internalapis#UnROOT.readbasket-Tuple{ROOTFile, Any, Any}"><code>readbasket</code></a> to obtain raw bytes and offsets of a basket, then calls <a href="/UnROOT.jl/previews/PR326/internalapis#UnROOT.auto_T_JaggT-Tuple{ROOTFile, Any}"><code>auto_T_JaggT</code></a> followed by <a href="/UnROOT.jl/previews/PR326/internalapis#UnROOT.interped_data-Tuple{Any, Any, Type{Bool}, Type{UnROOT.Nojagg}}"><code>interped_data</code></a> to translate raw bytes into actual data.</p><p><a href="https://github.com/JuliaHEP/UnROOT.jl/blob/2e2c3fb82b9f0c2f4c873095895f559a076b4080/src/iteration.jl#LL38-L46" target="_blank" rel="noreferrer">source</a></p></div><br><div style="border-width:1px;border-style:solid;border-color:black;padding:1em;border-radius:25px;"><a id="UnROOT.basketarray_iter-Tuple{ROOTFile, Any}" href="#UnROOT.basketarray_iter-Tuple{ROOTFile, Any}">#</a> <b><u>UnROOT.basketarray_iter</u></b> — <i>Method</i>. <div class="language-julia vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">julia</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">basketarray_iter</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(f</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">::</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">ROOTFile</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, branch</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">::</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">Union{TBranch, TBranchElement}</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">basketarray_iter</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(lb</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">::</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">LazyBranch</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span></code></pre></div><p>Returns a <code>Base.Generator</code> yielding the output of <code>basketarray()</code> for all baskets.</p><p><a href="https://github.com/JuliaHEP/UnROOT.jl/blob/2e2c3fb82b9f0c2f4c873095895f559a076b4080/src/iteration.jl#LL67-L72" target="_blank" rel="noreferrer">source</a></p></div><br><div style="border-width:1px;border-style:solid;border-color:black;padding:1em;border-radius:25px;"><a id="UnROOT.chaintrees-Tuple{Any}" href="#UnROOT.chaintrees-Tuple{Any}">#</a> <b><u>UnROOT.chaintrees</u></b> — <i>Method</i>. <div class="language-julia vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">julia</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">chaintrees</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(ts)</span></span></code></pre></div><p>Chain a collection of <code>LazyTree</code>s together to form a larger tree, every tree should have identical branch names and types, we&#39;re not trying to re-implement SQL here.</p><p><strong>Example</strong></p><div class="language-julia vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">julia</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">julia</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&gt;</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> typeof</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(tree)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">LazyTree with </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> branches</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">a</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">julia</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> tree2 </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> UnROOT</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">.</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">chaintrees</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">([tree,tree]);</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">julia</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&gt;</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> eltype</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(tree</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">.</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">a) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">==</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> eltype</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(tree2</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">.</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">a)</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">true</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">julia</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&gt;</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> length</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(tree)</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">100</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">julia</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&gt;</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> length</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(tree2)</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">200</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">julia</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&gt;</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> eltype</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(tree)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">UnROOT</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">.</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">LazyEvent{NamedTuple{(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">:a</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,), Tuple{LazyBranch{Int32, UnROOT</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">.</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">Nojagg, Vector{Int32}}}}}</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">julia</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&gt;</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> eltype</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(tree2)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">UnROOT</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">.</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">LazyEvent{NamedTuple{(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">:a</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,), Tuple{SentinelArrays</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">.</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">ChainedVector{Int32, LazyBranch{Int32, UnROOT</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">.</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">Nojagg, Vector{Int32}}}}}}</span></span></code></pre></div><p><a href="https://github.com/JuliaHEP/UnROOT.jl/blob/2e2c3fb82b9f0c2f4c873095895f559a076b4080/src/iteration.jl#LL305-L335" target="_blank" rel="noreferrer">source</a></p></div><br><div style="border-width:1px;border-style:solid;border-color:black;padding:1em;border-radius:25px;"><a id="UnROOT.compressed_datastream-Tuple{Any, Any}" href="#UnROOT.compressed_datastream-Tuple{Any, Any}">#</a> <b><u>UnROOT.compressed_datastream</u></b> — <i>Method</i>. <div class="language-julia vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">julia</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">compressed_datastream</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(io, tkey)</span></span></code></pre></div><p>Extract all [compressionheader][rawbytes] from a <code>TKey</code>. This is an isolated function because we want to compartmentalize disk I/O as much as possible.</p><p>See also: <a href="/UnROOT.jl/previews/PR326/internalapis#UnROOT.decompress_datastreambytes-Tuple{Any, Any}"><code>decompress_datastreambytes</code></a></p><p><a href="https://github.com/JuliaHEP/UnROOT.jl/blob/2e2c3fb82b9f0c2f4c873095895f559a076b4080/src/types.jl#LL117-L124" target="_blank" rel="noreferrer">source</a></p></div><br><div style="border-width:1px;border-style:solid;border-color:black;padding:1em;border-radius:25px;"><a id="UnROOT.decompress_datastreambytes-Tuple{Any, Any}" href="#UnROOT.decompress_datastreambytes-Tuple{Any, Any}">#</a> <b><u>UnROOT.decompress_datastreambytes</u></b> — <i>Method</i>. <div class="language-julia vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">julia</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">decompress_datastreambytes</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(compbytes, tkey)</span></span></code></pre></div><p>Process the compressed bytes <code>compbytes</code> which was read out by <code>compressed_datastream</code> and pointed to from <code>tkey</code>. This function simply return uncompressed bytes according to the compression algorithm detected (or the lack of).</p><p><a href="https://github.com/JuliaHEP/UnROOT.jl/blob/2e2c3fb82b9f0c2f4c873095895f559a076b4080/src/types.jl#LL135-L141" target="_blank" rel="noreferrer">source</a></p></div><br><div style="border-width:1px;border-style:solid;border-color:black;padding:1em;border-radius:25px;"><a id="UnROOT.endcheck-Union{Tuple{T}, Tuple{Any, T}} where T&lt;:UnROOT.Preamble" href="#UnROOT.endcheck-Union{Tuple{T}, Tuple{Any, T}} where T&lt;:UnROOT.Preamble">#</a> <b><u>UnROOT.endcheck</u></b> — <i>Method</i>. <div class="language-julia vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">julia</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">function</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> endcheck</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(io, preamble</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">::</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">Preamble</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span></code></pre></div><p>Checks if everything went well after parsing a TObject. Used in conjunction with <code>Preamble</code>.</p><p><a href="https://github.com/JuliaHEP/UnROOT.jl/blob/2e2c3fb82b9f0c2f4c873095895f559a076b4080/src/io.jl#LL130-L135" target="_blank" rel="noreferrer">source</a></p></div><br><div style="border-width:1px;border-style:solid;border-color:black;padding:1em;border-radius:25px;"><a id="UnROOT.interped_data-Tuple{Any, Any, Type{Bool}, Type{UnROOT.Nojagg}}" href="#UnROOT.interped_data-Tuple{Any, Any, Type{Bool}, Type{UnROOT.Nojagg}}">#</a> <b><u>UnROOT.interped_data</u></b> — <i>Method</i>. <div class="language-julia vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">julia</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">interped_data</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(rawdata, rawoffsets, </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">::</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">Type{T}</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">::</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">Type{J}</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">where</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {T, J</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&lt;:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">JaggType</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div><p>The function thats interpret raw bytes (from a basket) into corresponding Julia data, based on type <code>T</code> and jagg type <code>J</code>.</p><p>In order to retrieve data from custom branches, user should defined more speialized method of this function with specific <code>T</code> and <code>J</code>. See <code>TLorentzVector</code> example.</p><p><a href="https://github.com/JuliaHEP/UnROOT.jl/blob/2e2c3fb82b9f0c2f4c873095895f559a076b4080/src/root.jl#LL237-L245" target="_blank" rel="noreferrer">source</a></p></div><br><div style="border-width:1px;border-style:solid;border-color:black;padding:1em;border-radius:25px;"><a id="UnROOT.interped_data-Tuple{Any, Any, Type{Vector{LorentzVectors.LorentzVector{Float64}}}, Type{UnROOT.Offsetjagg}}" href="#UnROOT.interped_data-Tuple{Any, Any, Type{Vector{LorentzVectors.LorentzVector{Float64}}}, Type{UnROOT.Offsetjagg}}">#</a> <b><u>UnROOT.interped_data</u></b> — <i>Method</i>. <div class="language-julia vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">julia</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">interped_data</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(rawdata, rawoffsets, </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">::</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">Type{Vector{LorentzVector{Float64}}}</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">::</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">Type{Offsetjagg}</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span></code></pre></div><p>The <code>interped_data</code> method specialized for <code>LorentzVector</code>. This method will get called by <a href="/UnROOT.jl/previews/PR326/internalapis#UnROOT.basketarray-Tuple{ROOTFile, AbstractString, Any}"><code>basketarray</code></a> instead of the default method for <code>TLorentzVector</code> branch.</p><p><a href="https://github.com/JuliaHEP/UnROOT.jl/blob/2e2c3fb82b9f0c2f4c873095895f559a076b4080/src/custom.jl#LL107-L112" target="_blank" rel="noreferrer">source</a></p></div><br><div style="border-width:1px;border-style:solid;border-color:black;padding:1em;border-radius:25px;"><a id="UnROOT.isvoid-Tuple{Type{Tuple{}}}" href="#UnROOT.isvoid-Tuple{Type{Tuple{}}}">#</a> <b><u>UnROOT.isvoid</u></b> — <i>Method</i>. <div class="language-julia vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">julia</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">isvoid</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">::</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">Type{T}</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span></code></pre></div><p>Internal function to determine (by only looking at the type) if a RNTuple field is recursively empty. A field is empty is there&#39;s no more data column attached to it from this point forward.</p><p>For example, the :_0 field is empty here:</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>├─ Symbol(&quot;AntiKt4TruthDressedWZJetsAux:&quot;) ⇒ Struct</span></span>
<span class="line"><span>│                                            ├─ :m ⇒ Vector</span></span>
<span class="line"><span>│                                            │       ├─ :offset ⇒ Leaf{UnROOT.Index64}(col=23)</span></span>
<span class="line"><span>│                                            │       └─ :content ⇒ Leaf{Float32}(col=24)</span></span>
<span class="line"><span>│                                            ├─ Symbol(&quot;:_0&quot;) ⇒ Struct</span></span>
<span class="line"><span>│                                            │                  ├─ Symbol(&quot;:_2&quot;) ⇒ Struct</span></span>
<span class="line"><span>│                                            │                  ├─ Symbol(&quot;:_1&quot;) ⇒ Struct</span></span>
<span class="line"><span>│                                            │                  ├─ Symbol(&quot;:_0&quot;) ⇒ Struct</span></span>
<span class="line"><span>│                                            │                  │                  └─ Symbol(&quot;:_0&quot;) ⇒ Struct</span></span>
<span class="line"><span>│                                            │                  └─ Symbol(&quot;:_3&quot;) ⇒ Struct</span></span></code></pre></div><p>When we parse the schema, we discard anything that cannot possibly produce redable data.</p><p><a href="https://github.com/JuliaHEP/UnROOT.jl/blob/2e2c3fb82b9f0c2f4c873095895f559a076b4080/src/RNTuple/fieldcolumn_schema.jl#LL3-L25" target="_blank" rel="noreferrer">source</a></p></div><br><div style="border-width:1px;border-style:solid;border-color:black;padding:1em;border-radius:25px;"><a id="UnROOT.parseTH-Tuple{Dict{Symbol, Any}}" href="#UnROOT.parseTH-Tuple{Dict{Symbol, Any}}">#</a> <b><u>UnROOT.parseTH</u></b> — <i>Method</i>. <div class="language-julia vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">julia</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">parseTH</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(th</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">::</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">Dict{Symbol, Any}</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">; raw</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">true</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">-&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (counts, edges, sumw2, nentries)</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">parseTH</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(th</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">::</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">Dict{Symbol, Any}</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">; raw</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">false</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">-&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> Union{FHist</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">.</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">Hist1D, FHist</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">.</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">Hist2D}</span></span></code></pre></div><p>When <code>raw=true</code>, parse the output of <a href="/UnROOT.jl/previews/PR326/internalapis#UnROOT.TH-Tuple{Any, Union{UnROOT.TKey32, UnROOT.TKey64}, Any}"><code>TH</code></a> into a tuple of <code>counts</code>, <code>edges</code>, <code>sumw2</code>, and <code>nentries</code>. When <code>raw=false</code>, parse the output of <a href="/UnROOT.jl/previews/PR326/internalapis#UnROOT.TH-Tuple{Any, Union{UnROOT.TKey32, UnROOT.TKey64}, Any}"><code>TH</code></a> into FHist.jl histograms.</p><p><strong>Example</strong></p><div class="language-julia vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">julia</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">julia</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> UnROOT</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">.</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">parseTH</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(UnROOT</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">.</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">samplefile</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;histograms1d2d.root&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)[</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;myTH1D&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">])</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">([</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">40.0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">2.0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">], (</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">-</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">2.0</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">2.0</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">2.0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,), [</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">800.0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">2.0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">], </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">4.0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">julia</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> UnROOT</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">.</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">parseTH</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(UnROOT</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">.</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">samplefile</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;histograms1d2d.root&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)[</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;myTH1D&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">]; raw</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">false</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">edges</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> -</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">2.0</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">2.0</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">2.0</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">bin counts</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> [</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">40.0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">2.0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">]</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">total count</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 42.0</span></span></code></pre></div><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>!!! note</span></span>
<span class="line"><span>TH1 and TH2 inputs are supported.</span></span></code></pre></div><p><a href="https://github.com/JuliaHEP/UnROOT.jl/blob/2e2c3fb82b9f0c2f4c873095895f559a076b4080/src/utils.jl#LL88-L108" target="_blank" rel="noreferrer">source</a></p></div><br><div style="border-width:1px;border-style:solid;border-color:black;padding:1em;border-radius:25px;"><a id="UnROOT.parsetobject-Tuple{Any, Union{UnROOT.TKey32, UnROOT.TKey64}, Any}" href="#UnROOT.parsetobject-Tuple{Any, Union{UnROOT.TKey32, UnROOT.TKey64}, Any}">#</a> <b><u>UnROOT.parsetobject</u></b> — <i>Method</i>. <p>Direct parsing of streamed objects which are not sitting on branches. This function needs to be rewritten, so that it can create proper types of TObject inherited data (like <code>TVectorT&lt;*&gt;</code>).</p><p><a href="https://github.com/JuliaHEP/UnROOT.jl/blob/2e2c3fb82b9f0c2f4c873095895f559a076b4080/src/bootstrap.jl#LL1057-L1062" target="_blank" rel="noreferrer">source</a></p></div><br><div style="border-width:1px;border-style:solid;border-color:black;padding:1em;border-radius:25px;"><a id="UnROOT.read_field-Tuple{}" href="#UnROOT.read_field-Tuple{}">#</a> <b><u>UnROOT.read_field</u></b> — <i>Method</i>. <div class="language-julia vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">julia</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">read_field</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(io, field</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">::</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">F</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, page_list) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">where</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> F</span></span></code></pre></div><p>Read a field from the <code>io</code> stream. The <code>page_list</code> is a list of PageLinks for the current cluster group. The type stability is achieved by type asserting based on type <code>F</code> via <a href="/UnROOT.jl/previews/PR326/internalapis#UnROOT._field_output_type-Tuple{}"><code>_field_output_type</code></a> function.</p><p><a href="https://github.com/JuliaHEP/UnROOT.jl/blob/2e2c3fb82b9f0c2f4c873095895f559a076b4080/src/RNTuple/fieldcolumn_reading.jl#LL17-L23" target="_blank" rel="noreferrer">source</a></p></div><br><div style="border-width:1px;border-style:solid;border-color:black;padding:1em;border-radius:25px;"><a id="UnROOT.read_field-Union{Tuple{T}, Tuple{N}, Tuple{Any, UnROOT.StructField{N, T}, Any}} where {N, T}" href="#UnROOT.read_field-Union{Tuple{T}, Tuple{N}, Tuple{Any, UnROOT.StructField{N, T}, Any}} where {N, T}">#</a> <b><u>UnROOT.read_field</u></b> — <i>Method</i>. <div class="language-julia vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">julia</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">read_field</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(io, field</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">::</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">StructField{N, T}</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, page_list) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">where</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {N, T}</span></span></code></pre></div><p>Since each field of the struct is stored in a separate field of the RNTuple, this function returns a <code>StructArray</code> to maximize efficiency.</p><p><a href="https://github.com/JuliaHEP/UnROOT.jl/blob/2e2c3fb82b9f0c2f4c873095895f559a076b4080/src/RNTuple/fieldcolumn_reading.jl#LL146-L151" target="_blank" rel="noreferrer">source</a></p></div><br><div style="border-width:1px;border-style:solid;border-color:black;padding:1em;border-radius:25px;"><a id="UnROOT.read_pagedesc-Tuple{Any, AbstractVector{UnROOT.PageDescription}, UnROOT.ColumnRecord}" href="#UnROOT.read_pagedesc-Tuple{Any, AbstractVector{UnROOT.PageDescription}, UnROOT.ColumnRecord}">#</a> <b><u>UnROOT.read_pagedesc</u></b> — <i>Method</i>. <div class="language-julia vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">julia</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">read_pagedesc</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(io, pagedescs</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">::</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">AbstractVector{PageDescription}</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, cr</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">::</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">ColumnRecord</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span></code></pre></div><p>Read the decompressed raw bytes given a Page Description. The <code>nbits</code> need to be provided according to the element type of the column since <code>pagedesc</code> only contains <code>num_elements</code> information.</p><div class="tip custom-block"><p class="custom-block-title">Note</p><p>We handle split, zigzag, and delta encodings inside this function.</p></div><p><a href="https://github.com/JuliaHEP/UnROOT.jl/blob/2e2c3fb82b9f0c2f4c873095895f559a076b4080/src/RNTuple/fieldcolumn_reading.jl#LL199-L208" target="_blank" rel="noreferrer">source</a></p></div><br><div style="border-width:1px;border-style:solid;border-color:black;padding:1em;border-radius:25px;"><a id="UnROOT.readbasket-Tuple{ROOTFile, Any, Any}" href="#UnROOT.readbasket-Tuple{ROOTFile, Any, Any}">#</a> <b><u>UnROOT.readbasket</u></b> — <i>Method</i>. <div class="language-julia vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">julia</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">readbasket</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(f</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">::</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">ROOTFile</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, branch, ith)</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">readbasketseek</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(f</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">::</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">ROOTFile</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, branch</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">::</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">Union{TBranch, TBranchElement}</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, seek_pos</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">::</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">Int</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, nbytes)</span></span></code></pre></div><p>The fundamental building block of reading read data from a .root file. Read read one basket&#39;s raw bytes and offsets at a time. These raw bytes and offsets then (potentially) get processed by <a href="/UnROOT.jl/previews/PR326/internalapis#UnROOT.interped_data-Tuple{Any, Any, Type{Bool}, Type{UnROOT.Nojagg}}"><code>interped_data</code></a>.</p><p>See also: <a href="/UnROOT.jl/previews/PR326/internalapis#UnROOT.auto_T_JaggT-Tuple{ROOTFile, Any}"><code>auto_T_JaggT</code></a>, <a href="/UnROOT.jl/previews/PR326/internalapis#UnROOT.basketarray-Tuple{ROOTFile, AbstractString, Any}"><code>basketarray</code></a></p><p><a href="https://github.com/JuliaHEP/UnROOT.jl/blob/2e2c3fb82b9f0c2f4c873095895f559a076b4080/src/root.jl#LL537-L546" target="_blank" rel="noreferrer">source</a></p></div><br><div style="border-width:1px;border-style:solid;border-color:black;padding:1em;border-radius:25px;"><a id="UnROOT.readobjany!-Tuple{Any, Union{UnROOT.TKey32, UnROOT.TKey64}, Any}" href="#UnROOT.readobjany!-Tuple{Any, Union{UnROOT.TKey32, UnROOT.TKey64}, Any}">#</a> <b><u>UnROOT.readobjany!</u></b> — <i>Method</i>. <div class="language-julia vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">julia</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">function</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> readobjany!</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(io, tkey</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">::</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">TKey</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, refs)</span></span></code></pre></div><p>The main entrypoint where streamers are parsed and cached for later use. The <code>refs</code> dictionary holds the streamers or parsed data which are reused when already available.</p><p><a href="https://github.com/JuliaHEP/UnROOT.jl/blob/2e2c3fb82b9f0c2f4c873095895f559a076b4080/src/streamers.jl#LL190-L196" target="_blank" rel="noreferrer">source</a></p></div><br><div style="border-width:1px;border-style:solid;border-color:black;padding:1em;border-radius:25px;"><a id="UnROOT.skiptobj-Tuple{Any}" href="#UnROOT.skiptobj-Tuple{Any}">#</a> <b><u>UnROOT.skiptobj</u></b> — <i>Method</i>. <div class="language-julia vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">julia</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">function</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> skiptobj</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(io)</span></span></code></pre></div><p>Skips a TObject.</p><p><a href="https://github.com/JuliaHEP/UnROOT.jl/blob/2e2c3fb82b9f0c2f4c873095895f559a076b4080/src/io.jl#LL113-L117" target="_blank" rel="noreferrer">source</a></p></div><br><div style="border-width:1px;border-style:solid;border-color:black;padding:1em;border-radius:25px;"><a id="UnROOT.splitup-Tuple{Vector{UInt8}, Any, Type}" href="#UnROOT.splitup-Tuple{Vector{UInt8}, Any, Type}">#</a> <b><u>UnROOT.splitup</u></b> — <i>Method</i>. <div class="language-julia vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">julia</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">splitup</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(data</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">::</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">Vector{UInt8}</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, offsets, T</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">::</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">Type</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">; skipbytes</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span></code></pre></div><p>Given the <code>offsets</code> and <code>data</code> return by <code>array(...; raw = true)</code>, reconstructed the actual array (with custom struct, can be jagged as well).</p><p><a href="https://github.com/JuliaHEP/UnROOT.jl/blob/2e2c3fb82b9f0c2f4c873095895f559a076b4080/src/custom.jl#LL1-L6" target="_blank" rel="noreferrer">source</a></p></div><br><div style="border-width:1px;border-style:solid;border-color:black;padding:1em;border-radius:25px;"><a id="UnROOT.topological_sort-Tuple{Any}" href="#UnROOT.topological_sort-Tuple{Any}">#</a> <b><u>UnROOT.topological_sort</u></b> — <i>Method</i>. <div class="language-julia vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">julia</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">function</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> topological_sort</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(streamer_infos)</span></span></code></pre></div><p>Sort the streamers with respect to their dependencies and keep only those which are not defined already.</p><p>The implementation is based on <a href="https://stackoverflow.com/a/11564769/1623645" target="_blank" rel="noreferrer">https://stackoverflow.com/a/11564769/1623645</a></p><p><a href="https://github.com/JuliaHEP/UnROOT.jl/blob/2e2c3fb82b9f0c2f4c873095895f559a076b4080/src/streamers.jl#LL145-L152" target="_blank" rel="noreferrer">source</a></p></div><br><div style="border-width:1px;border-style:solid;border-color:black;padding:1em;border-radius:25px;"><a id="UnROOT.unpack-Tuple{UnROOT.CompressionHeader}" href="#UnROOT.unpack-Tuple{UnROOT.CompressionHeader}">#</a> <b><u>UnROOT.unpack</u></b> — <i>Method</i>. <div class="language-julia vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">julia</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">unpack</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(x</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">::</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">CompressionHeader</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span></code></pre></div><p>Return the following information:</p><ul><li><p>Name of compression algorithm</p></li><li><p>Level of the compression</p></li><li><p>compressedbytes and uncompressedbytes according to <a href="https://github.com/scikit-hep/uproot3/blob/54f5151fb7c686c3a161fbe44b9f299e482f346b/uproot3/source/compressed.py#L132" target="_blank" rel="noreferrer">uproot3</a></p></li></ul><p><a href="https://github.com/JuliaHEP/UnROOT.jl/blob/2e2c3fb82b9f0c2f4c873095895f559a076b4080/src/utils.jl#LL35-L42" target="_blank" rel="noreferrer">source</a></p></div><br><div style="border-width:1px;border-style:solid;border-color:black;padding:1em;border-radius:25px;"><a id="UnROOT.@SimpleStruct-Tuple{Any}" href="#UnROOT.@SimpleStruct-Tuple{Any}">#</a> <b><u>UnROOT.@SimpleStruct</u></b> — <i>Macro</i>. <div class="language-julia vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">julia</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">macro</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> SimpleStruct</span></span></code></pre></div><p>Define reading method on the fly for <code>_rntuple_read</code></p><p><strong>Example</strong></p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>julia&gt; @SimpleStruct struct Locator</span></span>
<span class="line"><span>           num_bytes::Int32</span></span>
<span class="line"><span>           offset::UInt64</span></span>
<span class="line"><span>       end</span></span></code></pre></div><p>would automatically define the following reading method:</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>function _rntuple_read(io, ::Type{Locator})</span></span>
<span class="line"><span>    num_bytes = _rntuple_read(io, Int32)</span></span>
<span class="line"><span>    offset = _rntuple_read(io, UInt64)</span></span>
<span class="line"><span>    Locator(num_bytes, offset)</span></span>
<span class="line"><span>end</span></span></code></pre></div><p>Notice <code>_rntuple_read</code> falls back to <code>read</code> for all types that are not defined by us.</p><p><a href="https://github.com/JuliaHEP/UnROOT.jl/blob/2e2c3fb82b9f0c2f4c873095895f559a076b4080/src/RNTuple/bootstrap.jl#LL108-L130" target="_blank" rel="noreferrer">source</a></p></div><br><div style="border-width:1px;border-style:solid;border-color:black;padding:1em;border-radius:25px;"><a id="UnROOT.@stack-Tuple{Any, Vararg{Any}}" href="#UnROOT.@stack-Tuple{Any, Vararg{Any}}">#</a> <b><u>UnROOT.@stack</u></b> — <i>Macro</i>. <div class="language-julia vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">julia</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">macro</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> stack</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(into, structs</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">...</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span></code></pre></div><p>Stack the fields of multiple structs and create a new one. The first argument is the name of the new struct followed by the ones to be stacked. Parametric types are not supported and the fieldnames needs to be unique.</p><p>Example:</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>@stack Baz Foo Bar</span></span></code></pre></div><p>Creates <code>Baz</code> with the concatenated fields of <code>Foo</code> and <code>Bar</code></p><p><a href="https://github.com/JuliaHEP/UnROOT.jl/blob/2e2c3fb82b9f0c2f4c873095895f559a076b4080/src/utils.jl#LL1-L15" target="_blank" rel="noreferrer">source</a></p></div><br></div></div></main><footer class="VPDocFooter" data-v-83890dd9 data-v-4f9813fa><!--[--><!--]--><div class="edit-info" data-v-4f9813fa><div class="edit-link" data-v-4f9813fa><a class="VPLink link vp-external-link-icon no-icon edit-link-button" href="https://github.com/JuliaHEP/UnROOT.jl/edit/main/docs/src/internalapis.md" target="_blank" rel="noreferrer" data-v-4f9813fa><!--[--><span class="vpi-square-pen edit-link-icon" data-v-4f9813fa></span> Edit this page<!--]--></a></div><!----></div><nav class="prev-next" aria-labelledby="doc-footer-aria-label" data-v-4f9813fa><span class="visually-hidden" id="doc-footer-aria-label" data-v-4f9813fa>Pager</span><div class="pager" data-v-4f9813fa><a class="VPLink link pager-link prev" href="/UnROOT.jl/previews/PR326/devdocs" data-v-4f9813fa><!--[--><span class="desc" data-v-4f9813fa>Previous page</span><span class="title" data-v-4f9813fa>For Contributors</span><!--]--></a></div><div class="pager" data-v-4f9813fa><!----></div></nav></footer><!--[--><!--]--></div></div></div><!--[--><!--]--></div></div><footer class="VPFooter has-sidebar" data-v-a9a9e638 data-v-c970a860><div class="container" data-v-c970a860><p class="message" data-v-c970a860>Made with <a href="https://luxdl.github.io/DocumenterVitepress.jl/dev/" target="_blank"><strong>DocumenterVitepress.jl</strong></a><br></p><p class="copyright" data-v-c970a860>© Copyright 2024.</p></div></footer><!--[--><!--]--></div></div>
    <script>window.__VP_HASH_MAP__=JSON.parse("{\"advanced_custom_branch.md\":\"BGQ1ZKkx\",\"advanced_reduce_latency.md\":\"BY6doLU1\",\"devdocs.md\":\"NQXpshPf\",\"exampleusage.md\":\"TOLrM2Bh\",\"index.md\":\"CfSj3Hoc\",\"internalapis.md\":\"2wg-VAoo\",\"performancetips.md\":\"wAUQuNyw\"}");window.__VP_SITE_DATA__=JSON.parse("{\"lang\":\"en-US\",\"dir\":\"ltr\",\"title\":\"UnROOT.jl\",\"description\":\"Documentation for UnROOT.jl\",\"base\":\"/UnROOT.jl/previews/PR326/\",\"head\":[],\"router\":{\"prefetchLinks\":true},\"appearance\":true,\"themeConfig\":{\"outline\":\"deep\",\"logo\":{\"src\":\"/logo.png\",\"width\":24,\"height\":24},\"search\":{\"provider\":\"local\",\"options\":{\"detailedView\":true}},\"nav\":[{\"text\":\"Introduction\",\"link\":\"/index\"},{\"text\":\"Example Usage\",\"link\":\"/exampleusage\"},{\"text\":\"Performance Tips\",\"link\":\"/performancetips\"},{\"text\":\"Advanced Usage\",\"collapsed\":false,\"items\":[{\"text\":\"Parse Custom Branch\",\"link\":\"/advanced/custom_branch\"},{\"text\":\"Reduce startup latency\",\"link\":\"/advanced/reduce_latency\"}]},{\"text\":\"For Contributors\",\"link\":\"/devdocs\"},{\"text\":\"APIs\",\"link\":\"/internalapis\"}],\"sidebar\":[{\"text\":\"Introduction\",\"link\":\"/index\"},{\"text\":\"Example Usage\",\"link\":\"/exampleusage\"},{\"text\":\"Performance Tips\",\"link\":\"/performancetips\"},{\"text\":\"Advanced Usage\",\"collapsed\":false,\"items\":[{\"text\":\"Parse Custom Branch\",\"link\":\"/advanced/custom_branch\"},{\"text\":\"Reduce startup latency\",\"link\":\"/advanced/reduce_latency\"}]},{\"text\":\"For Contributors\",\"link\":\"/devdocs\"},{\"text\":\"APIs\",\"link\":\"/internalapis\"}],\"editLink\":{\"pattern\":\"https://github.com/JuliaHEP/UnROOT.jl/edit/main/docs/src/:path\"},\"socialLinks\":[{\"icon\":\"github\",\"link\":\"https://github.com/JuliaHEP/UnROOT.jl\"}],\"footer\":{\"message\":\"Made with <a href=\\\"https://luxdl.github.io/DocumenterVitepress.jl/dev/\\\" target=\\\"_blank\\\"><strong>DocumenterVitepress.jl</strong></a><br>\",\"copyright\":\"© Copyright 2024.\"}},\"locales\":{},\"scrollOffset\":134,\"cleanUrls\":true}");</script>
    
  </body>
</html>